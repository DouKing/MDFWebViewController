<!doctype html>
<html><head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf8">
    <title>Demo</title>
    <style type='text/css'>
        html { font-family:Helvetica; color:#222; }
        h1 { color:steelblue; font-size:24px; margin-top:24px; }
        button { margin:0 3px 10px; font-size:12px; }
        .logLine { border-bottom:1px solid #ccc; padding:4px 2px; font-family:courier; font-size:11px; }
    </style><script language="javascript">
        document.body.appendChild(document.createElement('br'));
        var uniqueId = 1;
        function log(message, data) {
            var log = document.getElementById('log')
            var el = document.createElement('div')
            el.className = 'logLine'
            el.innerHTML = uniqueId++ + '. ' + message + ':<br/>' + JSON.stringify(data)
            if (log.children.length) { log.insertBefore(el, log.children[0]) }
            else { log.appendChild(el) }
        }
        function setRightButtons() {
            log('JS calling native method "setButtons"');
            AppBridge.Page.callMethod('setButtons', [{"title":'按钮0'}, {"title":'按钮1'}], function(index){
                                      log('JS receive response', index);
                                      });
        }

        registerMethod('showAlert', function(data, callback){
                       alert('data');
                       callback(data);
                   });
    </script>
</head><body>
    <input type="button" value="设置右上角按钮" onclick="setRightButtons()" />
    <div id='log'></div>
</body></html>
